$.fn.dcarousel=function(m){return this.each(function(){var t=$(this).addClass("owl-theme");if(!t.hasClass("installed-")){var a=t.children();a.length<=1&&t.addClass("hide-controls-");var e=$("<div />").addClass("dcarousel-outer").appendTo(t),d=$("<div />").addClass("dcarousel-inner").appendTo(e),o="dcarousel-dots-"+(Math.random()+"").replace(/\./,""),r=$("<div />").attr("id",o).addClass("dcarousel-dots owl-dots").appendTo("outer"==t.attr("data-dots-container")?e:t.attr("data-dots-container")?$(t.attr("data-dots-container")):t),n="dcarousel-nav-"+(Math.random()+"").replace(/\./,""),s=$("<div />").attr("id",n).addClass("dcarousel-nav").appendTo("me"==t.attr("data-nav-container")?t:t.attr("data-nav-container")?$(t.attr("data-nav-container")):e),i=$("<div />").addClass("owl-carousel").appendTo(d);a.appendTo(i).each(function(){$(this).wrap($("<div />").addClass("dcarousel-item"))});var l=a.parent(),c=$.extend(!0,{dotsSpeed:600,dragEndSpeed:600,navSpeed:600,dotsContainer:"#"+o,nav:!0,navContainer:"#"+n,margin:t.hasClass("preview-")?60:0,items:t.hasClass("preview-")?3:t.attr("data-items")?parseInt(t.attr("data-items")):1,center:!0,autoplay:!!t.attr("data-autoplay-timeout"),autoplayTimeout:t.attr("data-autoplay-timeout")?t.attr("data-autoplay-timeout"):0,autoplaySpeed:600,autoplayHoverPause:"false"!=t.attr("data-autoplay-hover-pause"),loop:!(a.length<=1||"false"==t.attr("data-loop"))},m);if(t.attr("data-margin")&&(c.margin=parseInt(t.attr("data-margin"))),t.attr("data-items")&&(c.items=parseInt(t.attr("data-items"))),t.attr("data-center")&&(c.center="true"==t.attr("data-center")),t.attr("data-loop")&&(c.loop="true"==t.attr("data-loop")),"true"==t.attr("data-auto-width")&&(c.autoWidth=!0),t.attr("data-auto-height")&&(c.autoHeight="true"==t.attr("data-auto-height"),c.autoHeightClass="dcarousel-item"),t.attr("data-counter-container")){var u=$(t.attr("data-counter-container"));0<u.length&&(u.text("1 / "+l.length),c.onTranslated=function(a){u.text(a.page.index+1+" / "+l.length)})}i.owlCarousel(c),t.hasClass("preview-")&&t.on("click",".owl-item.active:not(.center)",function(a){a.preventDefault(),a.stopPropagation();var t=$(this).next();0<t.length&&t.hasClass("center")?s.find(".owl-prev").click():s.find(".owl-next").click()}),i.on("changed.owl.carousel",function(a){a.item&&(0==a.item.index?t.addClass("first-item-"):t.removeClass("first-item-"),a.item.index+1==a.item.count?t.addClass("last-item-"):t.removeClass("last-item-"))});var p=1;r.find(".owl-dot > span").each(function(){$(this).text(p),p++}),setTimeout(function(){t.find(".owl-item.cloned [data-gallery]").removeAttr("data-gallery"),t.addClass("installed-")},1)}})},$(document).bind("dofirst",function(a,t){$(t).find(".dcarousel").dcarousel()});